<!DOCTYPE html>
<html>
<head>
<title>Ejemplo Tone Js 2</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.5.38/Tone.js"  ></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.7/ace.js" ></script>
<style>
#start {
    width: 100px;
    height: 30;
    border-radius: 20px;
    border: 1px solid black;
    text-align: center;
    line-height: 30px;
    margin: 5px;
}
#start:hover{ background:#ccc; cursor: pointer;}
</style>
</head>

<body>
    <div id="start" onclick="start()">play</div>
   

    <script>
        
      var synth = new Tone.Synth().toDestination()
      const notes = [
          'C4','E4', 'G5',
          'C4','E4', 'G5'
    ];

      Tone.Transport.scheduleRepeat(time => {
      //do something with the time
      repeat(time);
}, "8n");

      Tone.Transport.bpm.value = 120
      function start(){
        synth.triggerAttackRelease('A#4', '8n')

        //Tone.start();
      }
      console.log(Tone.Transport.bpm.value)
      function repeat(time){
          let note = notes[index % notes.length];
          synth.triggerAttackRelease(note, '8n', time);
          index++;
          
      }
    </script>

</body>

</html>

